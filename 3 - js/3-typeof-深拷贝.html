<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    // 值类型
    // var c = 20;
    // var d = c;
    // d = 21;
    // console.log(c);   // 20

    var a = 100;
    var b = a;
    a = 200;
    console.log(a);       // 200
    console.log(typeof null)

    // 引用类型
    // var a = {
    //   age: 20
    // };
    // var b = a;
    // b.age = 21
    // console.log(a.age)   // 21

    // 深拷贝
    // const obj1 = {
    //   naem: 'zhangsan',
    //   age: '20',
    //   address: {
    //     city: 'beijing'
    //   },
    //   arr: ['1', '2']
    // }
    // const obj2 = deepClone(obj1);
    // // obj2.address.city = '上海';

    // function deepClone(obj) {
    //   // 如果obj不是对象或者null直接返回，值类型不用深拷贝
    //   if (typeof obj !== 'object' || typeof obj == null) {
    //     return obj
    //   }

    //   // 初始化返回结果
    //   let result
    //   if (obj instanceof Array) {
    //     result = []
    //   } else {
    //     result = {}
    //   }

    //   for (let key in obj) {
    //     // 保证key是obj这个对象的属性  
    //     if (obj.hasOwnProperty(key)) {
    //       // 重点：递归调用  解决对象套对象的
    //       result[key] = deepClone(obj[key])
    //       console.log(result)
    //     }
    //   }
    //   // console.log(result)

    //   // 返回结果
    //   return result
    // }


    // 自写深拷贝
    const copy1 = {
      name: 'zhangsan',
      age: 20,
      eat: {
        name: 'apple'
      },
      exercise: ['run', 'basketball']
    }

    const copy2 = copyFun(copy1)
    copy2.name = 'lisi'
    // console.log(copy1);
    // console.log(copy2);

    function copyFun(obj) {
      if (typeof obj !== 'object' || typeof obj === null) {
        return obj
      }

      let result;
      if (result instanceof Array) {
        result = []
      } else {
        result = {}
      }

      for (let key in obj) {
        if (obj.hasOwnProperty(key)) {
          result[key] = copyFun(obj[key])
          console.log(result)
        }
      }
      return result
    }




  </script>
</body>

</html>